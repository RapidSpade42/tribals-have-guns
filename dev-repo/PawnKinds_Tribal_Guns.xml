<?xml version="1.0" encoding="utf-8"?>
<Patch>
	<!--Archer tribal patches-->
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>archer_toggle</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
			<Operation Class="PatchOperationInsert">
				<xpath>Defs/PawnKindDef[defName="Tribal_Archer"]/weaponTags/li[text()="NeolithicRangedBasic"]</xpath>
				<value>
					<li>Gun</li>
				</value>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>archer_makeshift</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
				<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Weapons Expanded - Makeshift</li>
				</mods>
				<match Class="PatchOperationInsert">
					<xpath>Defs/PawnKindDef[defName="Tribal_Archer"]/weaponTags/li[text()="NeolithicRangedBasic"]</xpath>
					<value>
						<li>MakeshiftGun</li>
					</value>
				</match>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.UseSetting">
    <modId>RapidSpade.TribalsHaveGuns</modId>
    <key>archer_range</key>
    <defaultValue>80~80</defaultValue>
    <apply>
        <Operation Class="PatchOperationReplace">
			<xpath>Defs/PawnKindDef[defName="Tribal_Archer"]/weaponMoney</xpath>
			<value>
				<weaponMoney>{archer_range}</weaponMoney>
			</value>
		</Operation>
	</apply>
	</Operation>

	<!--Warrior tribal patches-->
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>warrior_toggle</key>
		<defaultValue>true</defaultValue>
		<caseTrue>
			<Operation Class="PatchOperationInsert">
				<xpath>Defs/PawnKindDef[defName="Tribal_Warrior"]/weaponTags/li[text()="NeolithicMeleeDecent"]</xpath>
				<value>
					<li>Gun</li>
				</value>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>warrior_makeshift</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
				<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Weapons Expanded - Makeshift</li>
				</mods>
				<match Class="PatchOperationInsert">
					<xpath>Defs/PawnKindDef[defName="Tribal_Warrior"]/weaponTags/li[text()="NeolithicMeleeDecent"]</xpath>
					<value>
						<li>MakeshiftGun</li>
					</value>
				</match>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.UseSetting">
    <modId>RapidSpade.TribalsHaveGuns</modId>
    <key>warrior_range</key>
    <defaultValue>150~260</defaultValue>
    <apply>
        <Operation Class="PatchOperationReplace">
			<xpath>Defs/PawnKindDef[defName="Tribal_Warrior"]/weaponMoney</xpath>
			<value>
				<weaponMoney>{warrior_range}</weaponMoney>
			</value>
		</Operation>
	</apply>
	</Operation>
	
	<!--Hunter tribal patches-->
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>hunter_toggle</key>
		<defaultValue>true</defaultValue>
		<caseTrue>
			<Operation Class="PatchOperationInsert">
				<xpath>Defs/PawnKindDef[defName="Tribal_Hunter"]/weaponTags/li[text()="NeolithicRangedDecent"]</xpath>
				<value>
					<li>Gun</li>
				</value>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>hunter_makeshift</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
				<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Weapons Expanded - Makeshift</li>
				</mods>
				<match Class="PatchOperationInsert">
					<xpath>Defs/PawnKindDef[defName="Tribal_Hunter"]/weaponTags/li[text()="NeolithicRangedDecent"]</xpath>
					<value>
						<li>MakeshiftGun</li>
					</value>
				</match>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.UseSetting">
    <modId>RapidSpade.TribalsHaveGuns</modId>
    <key>hunter_range</key>
    <defaultValue>90~260</defaultValue>
    <apply>
        <Operation Class="PatchOperationReplace">
			<xpath>Defs/PawnKindDef[defName="Tribal_Hunter"]/weaponMoney</xpath>
			<value>
				<weaponMoney>{hunter_range}</weaponMoney>
			</value>
		</Operation>
	</apply>
	</Operation>

	<!--Heavy archer tribal patches-->
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>heavyarcher_toggle</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
			<Operation Class="PatchOperationAdd">
				<xpath>Defs/PawnKindDef[defName="Tribal_HeavyArcher"]/weaponTags</xpath>
				<value>
					<li>Gun</li>
				</value>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.OptionalPatch">
		<modId>RapidSpade.TribalsHaveGuns</modId>
		<key>heavyarcher_makeshift</key>
		<defaultValue>false</defaultValue>
		<caseTrue>
				<Operation Class="PatchOperationFindMod">
				<mods>
					<li>Vanilla Weapons Expanded - Makeshift</li>
				</mods>
				<match Class="PatchOperationAdd">
					<xpath>Defs/PawnKindDef[defName="Tribal_HeavyArcher"]/weaponTags</xpath>
					<value>
						<li>MakeshiftGun</li>
					</value>
				</match>
			</Operation>
		</caseTrue>
	</Operation>
	<Operation Class="XmlExtensions.UseSetting">
    <modId>RapidSpade.TribalsHaveGuns</modId>
    <key>heavyarcher_range</key>
    <defaultValue>250~250</defaultValue>
    <apply>
        <Operation Class="PatchOperationReplace">
			<xpath>Defs/PawnKindDef[defName="Tribal_HeavyArcher"]/weaponMoney</xpath>
			<value>
				<weaponMoney>{heavyarcher_range}</weaponMoney>
			</value>
		</Operation>
	</apply>
	</Operation>
</Patch>